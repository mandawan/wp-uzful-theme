/*
Bones Scripts File -> Uzful
Author: Eddie Machado ->  Emmanuel Baufils

*/function EventDispatcher(){this.id=Math.floor(Math.random()*1e3);if(EventDispatcher.caller!=EventDispatcher.getInstance)throw new Error("This object cannot be instanciated")}function randomArrayValue(e){return e.length?e[Math.floor(Math.random()*length)]:0}function refreshDisplay(){$("#transition-pane").height(viewport.height);$("#transition-pane").width(viewport.width)}var $mainwrapper=$("#main-wrapper"),scroller,viewport={width:$(window).width(),height:$(window).height(),firstResize:!0};jQuery(document).ready(function(e){function o(e){console.log("init map");var t={zoom:16,center:new google.maps.LatLng(48.855034,2.422319),disableDefaultUI:!0,panControl:!1,zoomControl:!0,scaleControl:!1,MapTypeId:google.maps.MapTypeId.ROADMAP},n=new google.maps.Map(document.getElementById(e),t),r=new google.maps.Marker({clickable:!1,map:n,position:new google.maps.LatLng(48.85385,2.421933),draggable:!1})}function a(e){if(e.find("p")){console.log(e.find("p").height());e.css("overflow","hidden");e.find("p").css("height",e.find("p").height());return!0}return!1}e(window).on("resize",function(){viewport.width=e(window).width();viewport.height=e(window).height();viewport.firstResize=!1;scroller.refresh()});e(function(){$mainwrapper.wrap('<div id="box-antiscroll" class="box-wrap antiscroll-wrap" />').wrap('<div class="box" />').wrap('<div class="antiscroll-inner" />').wrap('<div class="box-inner" />');initanchorsListMenu();e(".antiscroll-inner, .box-inner").css({height:viewport.height,width:viewport.width});scroller=e("#box-antiscroll").antiscroll().data("antiscroll");e(EventDispatcher.getInstance()).on("loadcomplete",function(){scroller.refresh();console.log("content loaded -> refresh scrollbar")})});var t=e("#home-works");if(t.length){var n=e(t).find(".item-work"),r=n.length,i=0;t.addClass("loading");n.hide().find("img").load(function(){console.log("image work loaded");i++;var s=e(this);s.parent().parent().find("#work-title").css("width",s.width());s.parent().parent().find("#work-subtitle").css("width",s.width());if(i>=r){console.log("all images work loaded -> show section");t.removeClass("loading");e(t).find(".masonry").masonry({itemSelector:".item-work",gutterWidth:25,columnWidth:function(e){return(e-189)/8}});refreshDisplay();n.show(0,function(){e(EventDispatcher.getInstance()).trigger("loadcomplete")})}}).each(function(){this.complete&&e(this).load()})}var s=e("#map");console.log(s);s.length&&o(s.attr("id"));var u=e("a.button-more");if(u.length){u.each(function(t){var n=e(this);if(!n.parent().find("."+e(this).attr("rel")).length)return;var r=e(n.parent().find("."+e(this).attr("rel")).find("p:first"));n.parent().find("."+e(this).attr("rel")).css({position:"absolute",visibility:"hidden",display:"block"});n.parent().find("."+e(this).attr("rel")).data("heightTo",r.outerHeight());n.parent().find("."+e(this).attr("rel")).css({position:"static",visibility:"visible"})});u.click(function(){var t=e(this);if(!t.parent().find("."+e(this).attr("rel")).length)return;$dta=t.parent().find("."+e(this).attr("rel"));if(t.hasClass("plus")){t.removeClass("plus");t.addClass("moins");$dta.animate({height:$dta.data("heightTo")},{duration:"250px",easing:"swing"})}else{t.removeClass("moins");t.addClass("plus");$dta.animate({height:0},{duration:"250px",easing:"swing"})}})}console.log(e("#helper"));var f=viewport.width;f<481;f>481;f>=768&&e(".comment img[data-gravatar]").each(function(){e(this).attr("src",e(this).attr("data-gravatar"))});f>1030});window.getComputedStyle||(window.getComputedStyle=function(e,t){this.el=e;this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;t=="float"&&(t="styleFloat");n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()}));return e.currentStyle[t]?e.currentStyle[t]:null};return this});(function(e){function c(){n.setAttribute("content",s);o=!0}function h(){n.setAttribute("content",i);o=!1}function p(t){l=t.accelerationIncludingGravity;u=Math.abs(l.x);a=Math.abs(l.y);f=Math.abs(l.z);!e.orientation&&(u>7||(f>6&&a<8||f<8&&a>6)&&u>5)?o&&h():o||c()}if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1))return;var t=e.document;if(!t.querySelector)return;var n=t.querySelector("meta[name=viewport]"),r=n&&n.getAttribute("content"),i=r+",maximum-scale=1",s=r+",maximum-scale=10",o=!0,u,a,f,l;if(!n)return;e.addEventListener("orientationchange",c,!1);e.addEventListener("devicemotion",p,!1)})(this);EventDispatcher.instance=null;EventDispatcher.getInstance=function(){this.instance==null&&(this.instance=new EventDispatcher);console.log("id ED : "+this.instance.id);return this.instance};